name: ceres_workspace
publish_to: none

environment:
  sdk: ">=3.6.0 <4.0.0"

workspace:
  - apps/ceres
  - packages/core/ceres_core
  - packages/core/ceres_ui
  - packages/features/ceres_dashboard
  - packages/features/ceres_network
  - packages/features/ceres_assets
  - packages/features/ceres_runner
  - packages/features/ceres_scripts

dev_dependencies:
  melos: ^7.3.0

melos:
  scripts:
    analyze:
      run: melos exec -- flutter analyze
      description: Analyze all packages
    
    test:
      run: melos exec -- flutter test
      description: Run all tests
    
    format:
      run: melos exec -- dart format . --set-exit-if-changed
      description: Check formatting
    
    clean:
      run: melos exec -- flutter clean
      description: Clean all packages
    
    get:
      run: melos exec -- flutter pub get
      description: Get dependencies for all packages
    
    build:
      run: melos exec --depends-on="build_runner" -- flutter pub run build_runner build --delete-conflicting-outputs
      description: Run build_runner for packages